// Generated by CoffeeScript 1.4.0

jQuery(function() {
  var mobile;
  mobile = function(width) {
    if (width < 768) {
      return $("section.info").addClass("one");
    } else {
      return $("section.info").removeClass("one");
    }
  };
  $(window).resize(function() {
    return mobile($(this).width());
  });
  $(window).resize();
  $("[data-title]").tooltip();
  $.each($("pre"), function(index, code) {
    return new CodeMirror(function(node) {
      if (code instanceof jQuery) {
        code = code.get(0);
      }
      return code.parentNode.replaceChild(node, code);
    }, {
      value: $.trim(code.textContent.split("||")[1]),
      readOnly: true,
      mode: $.trim(code.textContent.split("||")[0]),
      theme: "monokai",
      lineNumbers: $.trim(code.textContent.split("||")[1]).match("\\n"),
      matchBrackets: true
    });
  });
  $.each($("[data-time]"), function(index, ele) {
    return $(ele).html(prettyDate(new Date($(this).data("time"))));
  });
  $("a[href^='#']").click(function() {
    var current_top, scroll, top;
    top = $("a[name='" + $(this).attr("href").replace("#", "") + "']").offset().top - 10;
    current_top = $(window).scrollTop();
    scroll = setInterval(function() {
      var i, jumpp, order;
      if ($(window).scrollTop() > top) {
        return $(window).scrollTop($(window).scrollTop() - 15);
      } else {
        i = $("a[id^=ind]").length;
        order = 0;
        jumpp = setInterval(function() {
          if (order <= i) {
            $($("a[id^=ind]")[order]).addClass("jump");
            return ++order;
          } else {
            clearInterval(jumpp);
            return setTimeout(function() {
              return $("a[id^=ind]").removeClass("jump");
            }, 600 * i - 100 * i);
          }
        }, 100);
        return clearInterval(scroll);
      }
    }, 0.1);
    return false;
  });
  $.each($("a[id]"), function(index, ele) {
    return $(ele).click(function(e) {
      e.stopImmediatePropagation();
      return _gaq.push(["_trackEvent", "Clicks", "clicked on " + e.target.id]);
    });
  });
  return $.each($("a:not([id])"), function(index, ele) {
    return $(ele).click(function(e) {
      e.stopImmediatePropagation();
      console.log(e.currentTarget.innerText);
      return _gaq.push(["_trackEvent", "Clicks", "clicked on " + $(ele).text()]);
    });
  });
});
